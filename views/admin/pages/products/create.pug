extends ../../layouts/layout.pug

block title
     div Thêm sản phẩm

block action
     sl-button(type="submit" size="small" variant="primary") Thêm mới

block css
     link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/file-upload-with-preview@6.1.2/dist/style.min.css")
     link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/tom-select@2.4.3/dist/css/tom-select.default.min.css")


block script

     script(src="https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.js") 
     script(src="/node_modules/tinymce/tinymce.min.js") 
     script(src="/assets/js/tinymce-config.js")
     script(
          src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.6/Sortable.min.js"
     ) 
     script(
          src="https://cdn.jsdelivr.net/npm/autonumeric@4.10.8/dist/autoNumeric.min.js"
     )
     script(src="https://cdn.jsdelivr.net/npm/file-upload-with-preview@6.1.2/dist/index.iife.min.js") 
     script(src="/admin/assets/js/products/create.js")

block main

     div(class="flex flex-col gap-y-[20px]") 
          div(
               summary="Thông tin cơ bản",
               open,
               class="hover:border-[1px] border-dashed rounded-[10px] border-[#357D02] bg-[white]"
          )
               div(class="px-[16px] py-[10px] border-b-[1px] border-[#e0e0e0]")
                    div(class="text-[15px] text-[#626262] font-[900]") Thông tin cơ bản
               div(class="px-[16px] py-[10px]")
                    form(class="flex flex-col gap-y-[10px]")
                         div(class="")
                              sl-input(
                                   required,
                                   label="Tên sản phẩm",
                                   clearable,
                                   help-text="Tên sản phẩm + Thương hiệu + Model + Thông số kỹ thuật",
                                   placeholder="Nhập tên sản phẩm",
                                   name="name",
                                   type="text",
                                   value="",
                                   size="small"
                              )
                         div(class="")
                              sl-input(
                                   required,
                                   label="Đường dẫn",
                                   clearable,
                                   help-text="Độ dài lý tưởng của một URL cho SEO là 50 đến 60 ký tự.",
                                   placeholder="Nhập đường dẫn",
                                   type="text",
                                   value="",
                                   size="small",
                                   name="slug"
                              )
                         
                         div(class="flex flex-col gap-y-[3px]")
                              label(class="text-[#626262] text-[0.875rem] before:content-['*'] before:text-[red] before:mr-[10px]") Danh mục sản phẩm
                              select(
                                   required,
                                   label="Danh mục",
                                   clearable,
                                   help-text="Có thể chọn nhiều danh mục. Chon ít nhất 1 danh mục.",
                                   placeholder="Chọn danh mục...",
                                   multiple,
                                   type="text",
                                   value="",
                                   size="small",
                                   name="categories",
                                   hoist,
                                   maxOptionsVisible=2,
                                   select-multiple
                              )
                                   option(value="1") Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, laboriosam! Quae voluptatibus, officiis dignissimos in delectus quis dolores minima autem beatae dolor aut fugit corrupti magni velit sunt natus a.
                                   option(value="2") Danh mục 2
                                   option(value="3") Danh mục 3
                                   option(value="4") Danh mục 4
                                   option(value="5") Danh mục 5
                                   option(value="6") Danh mục 6
                                   option(value="7") Danh mục 7
                                   option(value="8") Danh mục 8
                                   option(value="9") Danh mục 9
                                   option(value="10") Danh mục 10
                                   option(value="11") Danh mục 11
                                   option(value="12") Danh mục 12
                                   option(value="13") Danh mục 13
                                   option(value="14") Danh mục 14
                                   option(value="15") Danh mục 15
                              //- sl-select(hoist)
                                   sl-option(value="2") Danh mục 2
                                   sl-option(value="3") Danh mục 3
                                   sl-option(value="4") Danh mục 4
                                   sl-option(value="5") Danh mục 5
                                   sl-option(value="6") Danh mục 6
                         div(class="")
                              sl-radio-group(
                                   required,
                                   label="Sản phẩm nổi bật",
                                   value="",
                                   size="small",
                                   name="featured"
                              )
                                   sl-radio(value="1" class="") Có
                                   sl-radio(value="2" class="") Không

          div(
               summary="Ảnh và giá sản phẩm",
               open,
               class="bg-[white] hover:border-[1px] border-dashed rounded-[10px] border-[#357D02] "
          )
               div(class="px-[16px] py-[10px] border-b-[1px] border-[#e0e0e0]")
                    div(class="text-[15px] text-[#626262] font-[900]") Giá và ảnh sản phẩm
               div(class="px-[16px] py-[10px]" )

                    sl-button(variant='primary' size='small' outline btn-add-group) Thêm nhóm thuộc tính
                         sl-icon(slot="prefix" name="plus-circle")
                    div Lưu ý: Khi thêm nhóm thuộc tính thì nhóm thuộc tính đầu tiên sẽ chứa các hình ảnh.
                    div(parent-group) 
                         //- div(class="bg-[#F6F6F6] rounded-[10px] relative")
                              div(class="py-[10px] px-[20px] flex flex-col gap-y-[10px] my-[10px]") 
                                   div(class="grid grid-cols-5 gap-[20px] mb-[10px]")
                                        div(class="flex items-center gap-x-[10px]") 
                                             div(class="text-[14px]") Thuộc tính 1
                                             //- sl-button(variant="default" size="small" circle)
                                        div(class="col-span-4 grid grid-cols-2 gap-[20px]") 
                                             div(class="flex gap-x-[5px] items-center")
                                                  div(class="w-full") 
                                                       select(placeholder="Chọn thuộc tính..." multiple select-single class="w-full" name='select-attribute' select-attribute)
                                                            option(value='color') Màu sắc
                                                            option(value='size') Kích thước
                                   div(class="grid grid-cols-5 gap-[20px]")
                                        div(class="flex items-center gap-x-[10px]") 
                                             div(class="text-[14px]") Tùy chọn
                                             //- sl-button(variant="default" size="small" circle)
                                             sl-icon(name="plus-circle" class="cursor-pointer text-[#8F87F1]")
                                        div(class="col-span-4 grid grid-cols-2 gap-[20px]" keo-tha) 
                                             div(class="flex gap-x-[5px] items-center")
                                                  sl-icon(
                                                       name="arrows-move",
                                                       class="cursor-move hover:text-[#8F87F1]"
                                                  )
                                                  div(class="w-full") 
                                                       select(placeholder="Chọn giá trị..." multiple select-single class="w-full" name='select-attribute')
                                                            option(value='1') Ví dụ 1
                                                            option(value='2') Ví dụ 2
                                                  sl-icon(name="trash" class="cursor-pointer text-[#F7374F]")
                              button(class="absolute top-[10px] right-[10px] aspect-square  flex items-center justify-center h-[30px] w-[30px]  rounded-[7px] hover:bg-[#EBECF3]")
                                   sl-icon(name="x-lg" class="")
                         //- div(class="bg-[#F6F6F6] rounded-[10px] relative")
                              div(class="py-[10px] px-[20px] flex flex-col gap-y-[10px] my-[10px]") 
                                   div(class="grid grid-cols-5 gap-[20px] mb-[10px]")
                                        div(class="flex items-center gap-x-[10px]") 
                                             div(class="text-[14px]") Thuộc tính 1
                                             //- sl-button(variant="default" size="small" circle)
                                        div(class="col-span-4 grid grid-cols-2 gap-[20px]") 
                                             div(class="flex gap-x-[5px] items-center")
                                                  div(class="w-full") 
                                                       select(placeholder="Chọn thuộc tính..." multiple select-single class="w-full" name='select-attribute' select-attribute)
                                                            option(value='color') Màu sắc
                                                            option(value='size') Kích thước
                                   div(class="grid grid-cols-5 gap-[20px]")
                                        div(class="flex items-center gap-x-[10px]") 
                                             div(class="text-[14px]") Tùy chọn
                                             //- sl-button(variant="default" size="small" circle)
                                             sl-icon(name="plus-circle" class="cursor-pointer text-[#8F87F1]")
                                        div(class="col-span-4 grid grid-cols-2 gap-[20px]" keo-tha) 
                                             div(class="flex gap-x-[5px] items-center")
                                                  sl-icon(
                                                       name="arrows-move",
                                                       class="cursor-move hover:text-[#8F87F1]"
                                                  )
                                                  div(class="w-full") 
                                                       select(placeholder="Chọn giá trị..." multiple select-single class="w-full" name='select-attribute')
                                                            option(value='1') Ví dụ 1
                                                            option(value='2') Ví dụ 2
                                                  sl-icon(name="trash" class="cursor-pointer text-[#F7374F]")
                              button(class="absolute top-[10px] right-[10px] aspect-square  flex items-center justify-center h-[30px] w-[30px]  rounded-[7px] hover:bg-[#EBECF3]")
                                   sl-icon(name="x-lg" class="")  

                    div(class="" parent-preview-image) 
                         div(class="flex flex-col gap-[5px] my-[10px]" upload-image) 
                              div(class="flex items-center gap-x-[10px]") 
                                   h4(class="text-[#626262] text-[13px]") Ảnh sản phẩm
                                   h4(class="text-[#626262] text-[13px]" name-attribute)
                                   h4(class="text-[#626262] text-[13px]" value-atribute)
                              div(class="flex items-start gap-x-[40px]" )
                                   div(class="custom-file-container w-[70%]" data-upload-id="upload-image-1")
                                   div(class="flex items-center gap-x-[10px] w-[25%]")
                                        sl-icon(name="trash" class="cursor-pointer text-[#FA4F64]")
                                        
                                        sl-button(variant="success" class="flex-1") Chọn ảnh
                                             sl-icon(slot="prefix" name="images" class="text-[white]")
                         div(class="flex flex-col gap-[5px] my-[10px]" upload-image) 
                              div(class="flex items-center gap-x-[10px]") 
                                   h4(class="text-[#626262] text-[13px]") Ảnh sản phẩm
                                   h4(class="text-[#626262] text-[13px]" name-attribute)
                                   h4(class="text-[#626262] text-[13px]" value-atribute)
                              div(class="flex items-start gap-x-[40px]" )
                                   div(class="custom-file-container w-[70%]" data-upload-id="upload-image-2")
                                   div(class="flex items-center gap-x-[10px] w-[25%]")
                                        sl-icon(name="trash" class="cursor-pointer text-[#FA4F64]")
                                        
                                        sl-button(variant="success" class="flex-1") Chọn ảnh
                                             sl-icon(slot="prefix" name="images" class="text-[white]")
                         
                    
                    table(class="w-full table-auto border-collapse" table-attribute)
                         thead
                              tr(class="bg-[#ECEEF0] !h-[35px]")
                                   th(class="text-center px-[10px] w-[1%]") Trạng thái
                                   th(class="text-center px-[10px]" insert-attr-before) SKU
                                   th(class="text-center px-[10px]") Giá ban đầu (VNĐ)
                                   th(class="text-center px-[10px]") Giá bán (VNĐ)
                                   th(class="text-center px-[10px] w-[1%]") Tồn kho
                         tbody
                              tr(class="h-[50px] text-center")
                                   td(class="text-left w-[1%]")
                                        sl-switch(
                                             checked,
                                             class="",
                                             style="--width: 50px; --height: 25px"
                                        )
                                   td(class="text-left w-auto px-[10px]" insert-attr-before)
                                        sl-input(
                                             required,
                                             class="w-[80%] mx-[auto]",
                                             placeholder="Nhập SKU",
                                             type="text",
                                             value="",
                                             size="small"
                                        )
                                   td(class="text-left w-auto px-[10px]")
                                        input(
                                             money-input,
                                             required,
                                             placeholder="Nhập giá",
                                             type="text",
                                             value="",
                                             size="small",
                                             class="w-[10rem] mx-auto block input input-xs outline-none px-[0.75rem] border-[1px] border-[hsl(240 5.3% 26.1%)]" 
                                             style="height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2)" 
                                        )
                                   td(class="text-left w-auto px-[10px]")
                                        input(
                                             money-input,
                                             required,
                                             placeholder="Nhập giá",
                                             type="text",
                                             value="",
                                             size="small",
                                             class="w-[80%] mx-auto block input input-xs outline-none px-[0.75rem] border-[1px] border-[hsl(240 5.3% 26.1%)]" 
                                             style="height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2)" 
                                        )
                                   td(class="text-left w-fit")
                                        sl-input(
                                             required,
                                             placeholder="Nhập giá",
                                             type="text",
                                             value="",
                                             size="small",
                                             class="w-[80%] mx-auto"
                                        )
                                   
                              
          sl-details(
               summary="Mô tả sản phẩm",
               open,
               class="hover:border-[1px] border-dashed rounded-[10px] truncate border-[#357D02]"
          )
               div(class="flex flex-col gap-y-[15px]")
                    div(class="flex flex-col gap-y-[5px]") 
                         h4(class="text-[#626262] text-[13px]") Mô tả ngắn
                         textarea(tiny-mce)
                    div(class="flex flex-col gap-y-[5px]") 
                         h4(class="text-[#626262] text-[13px]") Nội dung
                         textarea(tiny-mce)

//- sl-button(type="submit") ok
